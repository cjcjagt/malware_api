from collections import Counter
import numpy as np
import pandas as pd
import matplotlib as mpl
import matplotlib.pyplot as plt
files = {"Spyware", "Downloader", "Trojan", "Worms", "Adware", "Dropper", "Virus", "Backdoor"}
dic = {}
li = []
totaldic={}
filedic={}
for file in files:
    with open(file + "cut.txt", 'r') as f:
        if file not in filedic:
            filedic[file]={}
        for line in f.readlines():
            words = line.strip().split(" ")
            for word in words:
                if word in totaldic:
                    totaldic[word]+=1
                else:
                    totaldic[word] = 1
                if word in filedic[file]:
                    filedic[file][word]+=1
                else:
                    filedic[file][word] = 1
            length = len(words)
            li.append(length)
            if length in dic:
                dic[length]+=1
            else:
                dic[length] = 1
med = np.median(li)
mean = np.mean(li)
print(med)
print(mean)
count_values = Counter(dic)
sort_values = sorted(count_values.items(), key=lambda x:x[1], reverse=False)
print(len(sort_values))
print(sort_values)
print(filedic)
print(totaldic)
with open("result.txt","w") as f:
    f.write(str(sort_values))
    f.write("\n")
    f.write(str(filedic))
    f.write("\n")
    f.write(str(totaldic))